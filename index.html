<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Be My Valentine</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <script src="https://cdn.jsdelivr.net/npm/canvas-confetti@1.9.3/dist/confetti.browser.min.js"></script>
    <script>
      tailwind.config = {
        theme: {
          extend: {
            colors: {
              rose: {
                950: '#4b0f2f',
              },
            },
            fontFamily: {
              script: ['"Pacifico"', 'cursive'],
            },
          },
        },
      };
    </script>
    <link
      href="https://fonts.googleapis.com/css2?family=Pacifico&family=Quicksand:wght@400;500;600;700&display=swap"
      rel="stylesheet"
    />
    <style>
      .envelope {
        perspective: 1600px;
      }

      .envelope-cover {
        transform-origin: top;
        transition: transform 1s cubic-bezier(0.19, 1, 0.22, 1);
      }

      .envelope.opened .envelope-cover {
        transform: rotateX(180deg);
      }

      .envelope-card {
        transform-origin: bottom;
        transform: translateY(48%) scale(0.9);
        opacity: 0;
        transition: transform 1s cubic-bezier(0.19, 1, 0.22, 1),
          opacity 0.9s ease-in-out;
      }

      .envelope.opened .envelope-card {
        transform: translateY(-12%) scale(1);
        opacity: 1;
      }

      .floating-heart {
        animation: float 6s ease-in-out infinite;
      }

      .floating-heart.delay-1 {
        animation-delay: 1.2s;
      }

      .floating-heart.delay-2 {
        animation-delay: 2.4s;
      }

      @keyframes float {
        0% {
          transform: translateY(0) translateX(0) scale(0.9);
          opacity: 0.6;
        }
        50% {
          transform: translateY(-24px) translateX(10px) scale(1.1);
          opacity: 1;
        }
        100% {
          transform: translateY(0) translateX(0) scale(0.9);
          opacity: 0.6;
        }
      }

      .no-wiggle:hover {
        animation: wiggle 0.7s ease-in-out infinite;
      }

      @keyframes wiggle {
        0%,
        100% {
          transform: translateX(0);
        }
        25% {
          transform: translateX(-3px);
        }
        75% {
          transform: translateX(3px);
        }
      }

      /* Heartbeat pulse for Yes button */
      .heartbeat {
        animation: heartbeat 1.4s ease-in-out infinite;
        transform-origin: center;
      }

      @keyframes heartbeat {
        0%,
        100% {
          transform: scale(1);
        }
        20% {
          transform: scale(1.08);
        }
        40% {
          transform: scale(0.98);
        }
        60% {
          transform: scale(1.04);
        }
        80% {
          transform: scale(0.99);
        }
      }

      /* Playful No button that dodges the cursor */
      .tricky-no {
        transition: transform 0.25s ease, box-shadow 0.25s ease;
      }
    </style>
  </head>
  <body
    class="min-h-screen bg-gradient-to-br from-rose-50 via-pink-100 to-rose-200"
  >
    <main
      class="relative flex min-h-screen items-start justify-center px-4 py-8 font-[Quicksand] sm:items-center sm:py-10"
    >
      <!-- Floating hearts background -->
      <div class="pointer-events-none absolute inset-0">
        <div
          class="floating-heart absolute -left-4 top-10 text-rose-300/60"
        >
          <svg
            xmlns="http://www.w3.org/2000/svg"
            class="h-16 w-16"
            viewBox="0 0 24 24"
            fill="currentColor"
          >
            <path
              d="M11.645 20.91l-.007-.003-.022-.012a15.247 15.247 0 01-.383-.218 25.18 25.18 0 01-4.244-3.17C4.688 15.36 3 13.027 3 10.25 3 7.322 5.294 5 8.25 5c1.62 0 3.04.774 3.997 1.987C13.71 5.774 15.13 5 16.75 5 19.706 5 22 7.322 22 10.25c0 2.778-1.688 5.11-3.989 7.256a25.175 25.175 0 01-4.244 3.17 15.247 15.247 0 01-.383.218l-.022.012-.007.003-.003.002a.75.75 0 01-.704 0l-.003-.002z"
            />
          </svg>
        </div>
        <div
          class="floating-heart delay-1 absolute right-10 top-32 text-pink-300/60"
        >
          <svg
            xmlns="http://www.w3.org/2000/svg"
            class="h-20 w-20"
            viewBox="0 0 24 24"
            fill="currentColor"
          >
            <path
              d="M11.645 20.91l-.007-.003-.022-.012a15.247 15.247 0 01-.383-.218 25.18 25.18 0 01-4.244-3.17C4.688 15.36 3 13.027 3 10.25 3 7.322 5.294 5 8.25 5c1.62 0 3.04.774 3.997 1.987C13.71 5.774 15.13 5 16.75 5 19.706 5 22 7.322 22 10.25c0 2.778-1.688 5.11-3.989 7.256a25.175 25.175 0 01-4.244 3.17 15.247 15.247 0 01-.383.218l-.022.012-.007.003-.003.002a.75.75 0 01-.704 0l-.003-.002z"
            />
          </svg>
        </div>
        <div
          class="floating-heart delay-2 absolute bottom-10 right-1/4 text-rose-200/70"
        >
          <svg
            xmlns="http://www.w3.org/2000/svg"
            class="h-14 w-14"
            viewBox="0 0 24 24"
            fill="currentColor"
          >
            <path
              d="M11.645 20.91l-.007-.003-.022-.012a15.247 15.247 0 01-.383-.218 25.18 25.18 0 01-4.244-3.17C4.688 15.36 3 13.027 3 10.25 3 7.322 5.294 5 8.25 5c1.62 0 3.04.774 3.997 1.987C13.71 5.774 15.13 5 16.75 5 19.706 5 22 7.322 22 10.25c0 2.778-1.688 5.11-3.989 7.256a25.175 25.175 0 01-4.244 3.17 15.247 15.247 0 01-.383.218l-.022.012-.007.003-.003.002a.75.75 0 01-.704 0l-.003-.002z"
            />
          </svg>
        </div>

        <!-- Extra subtle hearts -->
        <div
          class="floating-heart delay-1 absolute left-1/5 bottom-16 text-pink-200/70"
        >
          <svg
            xmlns="http://www.w3.org/2000/svg"
            class="h-10 w-10"
            viewBox="0 0 24 24"
            fill="currentColor"
          >
            <path
              d="M11.645 20.91l-.007-.003-.022-.012a15.247 15.247 0 01-.383-.218 25.18 25.18 0 01-4.244-3.17C4.688 15.36 3 13.027 3 10.25 3 7.322 5.294 5 8.25 5c1.62 0 3.04.774 3.997 1.987C13.71 5.774 15.13 5 16.75 5 19.706 5 22 7.322 22 10.25c0 2.778-1.688 5.11-3.989 7.256a25.175 25.175 0 01-4.244 3.17 15.247 15.247 0 01-.383.218l-.022.012-.007.003-.003.002a.75.75 0 01-.704 0l-.003-.002z"
            />
          </svg>
        </div>
        <div
          class="floating-heart delay-2 absolute left-1/2 top-4 text-rose-200/60"
        >
          <svg
            xmlns="http://www.w3.org/2000/svg"
            class="h-8 w-8"
            viewBox="0 0 24 24"
            fill="currentColor"
          >
            <path
              d="M11.645 20.91l-.007-.003-.022-.012a15.247 15.247 0 01-.383-.218 25.18 25.18 0 01-4.244-3.17C4.688 15.36 3 13.027 3 10.25 3 7.322 5.294 5 8.25 5c1.62 0 3.04.774 3.997 1.987C13.71 5.774 15.13 5 16.75 5 19.706 5 22 7.322 22 10.25c0 2.778-1.688 5.11-3.989 7.256a25.175 25.175 0 01-4.244 3.17 15.247 15.247 0 01-.383.218l-.022.012-.007.003-.003.002a.75.75 0 01-.704 0l-.003-.002z"
            />
          </svg>
        </div>
        <div
          class="floating-heart absolute right-8 bottom-4 text-pink-300/60"
        >
          <svg
            xmlns="http://www.w3.org/2000/svg"
            class="h-12 w-12"
            viewBox="0 0 24 24"
            fill="currentColor"
          >
            <path
              d="M11.645 20.91l-.007-.003-.022-.012a15.247 15.247 0 01-.383-.218 25.18 25.18 0 01-4.244-3.17C4.688 15.36 3 13.027 3 10.25 3 7.322 5.294 5 8.25 5c1.62 0 3.04.774 3.997 1.987C13.71 5.774 15.13 5 16.75 5 19.706 5 22 7.322 22 10.25c0 2.778-1.688 5.11-3.989 7.256a25.175 25.175 0 01-4.244 3.17 15.247 15.247 0 01-.383.218l-.022.012-.007.003-.003.002a.75.75 0 01-.704 0l-.003-.002z"
            />
          </svg>
        </div>
      </div>

      <section class="relative z-10 max-w-4xl">
        <div
          class="mx-auto flex max-w-xl flex-col items-center gap-8 text-center"
        >
          <p class="text-xs uppercase tracking-[0.3em] text-rose-500">
            A tiny question for you
          </p>
          <h1
            class="font-script text-4xl text-rose-600 drop-shadow-sm sm:text-5xl"
          >
            Will you be my Valentine?
          </h1>

          <!-- Envelope -->
          <div
            id="envelopeWrapper"
            class="envelope group relative mt-6 w-[320px] cursor-pointer sm:w-[360px]"
          >
            <div
              id="envelope"
              class="envelope relative h-[220px] rounded-3xl bg-transparent"
            >
              <!-- Shadow / base -->
              <div
                class="absolute inset-x-4 bottom-2 h-6 rounded-full bg-rose-300/40 blur-md"
              ></div>

              <!-- Back of envelope -->
              <div
                class="relative z-0 h-full rounded-3xl bg-gradient-to-br from-rose-200 via-pink-200 to-rose-300 shadow-xl shadow-rose-200/60"
              >
                <!-- Decorative diagonal -->
                <div
                  class="pointer-events-none absolute inset-0 rounded-3xl bg-[radial-gradient(circle_at_top,_rgba(255,255,255,0.6),_transparent_60%)]"
                ></div>
              </div>

              <!-- Envelope flap -->
              <div
                class="envelope-cover absolute inset-x-0 top-0 z-20 h-1/2 origin-top rounded-t-3xl bg-gradient-to-b from-rose-400 to-rose-500 shadow-md"
              >
                <div
                  class="absolute left-1/2 top-1/2 h-7 w-7 -translate-x-1/2 -translate-y-1/2 rounded-full border border-rose-100 bg-rose-200/90 shadow-sm"
                >
                  <span
                    class="absolute inset-0 flex items-center justify-center text-[10px] font-semibold uppercase tracking-[0.3em] text-rose-700"
                    >♥</span
                  >
                </div>
              </div>

              <!-- Card inside envelope -->
              <article
                id="inviteCard"
                class="envelope-card relative z-10 mx-4 mt-8 max-h-[65vh] overflow-y-auto rounded-2xl border border-white/40 bg-white/70 p-4 pt-6 shadow-2xl shadow-rose-200/70 backdrop-blur-lg sm:max-h-none sm:overflow-visible"
              >
                <p
                  class="mb-1 text-xs uppercase tracking-[0.25em] text-rose-400"
                >
                  For my favorite person
                </p>
                <h2
                  class="mb-3 text-left font-script text-2xl text-rose-600 sm:text-3xl"
                >
                  Dear <span id="valentineName">Sai</span>,
                </h2>

                <p
                  class="mb-4 text-left text-sm leading-relaxed text-rose-700 sm:text-base"
                >
                  I could write a thousand little love notes, but I decided to
                  start with this one. Life is sweeter, softer, and so much more
                  beautiful with you in it. So there’s something I’ve been
                  wanting to ask you…
                </p>

                <!-- Photo placeholder -->
                <div
                  class="mb-4 flex items-center gap-3 rounded-2xl bg-rose-50/80 p-3"
                >
                  <div
                    class="h-16 w-16 flex-shrink-0 overflow-hidden rounded-2xl border border-rose-200 bg-rose-100/80 shadow-sm"
                  >
                    <!-- Her photo -->
                    <img
                      src="sai.jpg"
                      alt="My beautiful Valentine"
                      class="h-full w-full object-cover"
                    />
                  </div>
                  <div
                    class="text-left text-xs leading-relaxed text-rose-600 sm:text-sm"
                  >
                    Youre so cute here I really love you baby mwamwamwa
                    I miss you so much I love youuuuuu
                  </div>
                </div>

                <p
                  class="mb-4 text-left text-sm font-semibold leading-relaxed text-rose-700 sm:text-base"
                >
                  Will you be my Valentine
                  <span class="whitespace-nowrap">this year?</span>
                </p>

                <!-- Buttons -->
                <div
                  class="mt-3 flex flex-wrap items-center justify-center gap-3 sm:justify-between"
                >
                  <button
                    id="yesButton"
                    class="heartbeat inline-flex items-center justify-center rounded-full bg-gradient-to-r from-rose-500 via-pink-500 to-rose-500 px-6 py-2.5 text-sm font-semibold text-white shadow-md shadow-rose-300/60 transition hover:shadow-lg focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-rose-400 focus-visible:ring-offset-2 focus-visible:ring-offset-rose-50"
                  >
                    Yes, of course
                    <span class="ml-2 text-xs">♥</span>
                  </button>
                  <button
                    id="noButton"
                    class="tricky-no inline-flex items-center justify-center rounded-full border border-rose-200 bg-white/80 px-6 py-2.5 text-sm font-semibold text-rose-500 shadow-sm transition hover:border-rose-300 hover:bg-rose-50 focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-rose-200 focus-visible:ring-offset-2 focus-visible:ring-offset-rose-50"
                  >
                    Hmm, maybe no
                  </button>
                </div>

                <p class="mt-3 text-center text-[11px] text-rose-400">
                  (P.S. The envelope opens when you tap it. Give it a try.)
                </p>
              </article>
            </div>
          </div>
        </div>

        <!-- No-button playful modal -->
        <div
          id="noModal"
          class="pointer-events-none fixed inset-0 z-20 hidden items-center justify-center bg-rose-950/40 backdrop-blur-sm"
        >
          <div
            class="pointer-events-auto max-w-xs rounded-3xl bg-white/95 p-5 text-center shadow-2xl shadow-rose-300/80"
          >
            <p
              id="noModalText"
              class="mb-4 text-sm text-rose-700 sm:text-base"
            >
              Are you really, truly sure you don’t want to be my Valentine?
            </p>
            <button
              id="noModalClose"
              class="inline-flex items-center justify-center rounded-full bg-rose-500 px-5 py-2 text-xs font-semibold text-white shadow-md shadow-rose-300/70 transition hover:bg-rose-600 focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-rose-400 focus-visible:ring-offset-2 focus-visible:ring-offset-rose-50"
            >
              Okay fine, let me think again
            </button>
          </div>
        </div>
      </section>
    </main>

    <script>
      const envelopeWrapper = document.getElementById('envelopeWrapper');
      const envelope = document.getElementById('envelope');
      const inviteCard = document.getElementById('inviteCard');
      const yesButton = document.getElementById('yesButton');
      const noButton = document.getElementById('noButton');
      const noModal = document.getElementById('noModal');
      const noModalText = document.getElementById('noModalText');
      const noModalClose = document.getElementById('noModalClose');

      let envelopeOpened = false;
      let noClickCount = 0;

      const noQuestions = [
        "Are you absolutely, positively sure you don't want to be my Valentine?",
        "You dont want to be my valentine? whyyyyyyyyy?",
        "Last chance. Are you really going to break my heart and say no to being my Valentine?"
      ];

      function openEnvelope() {
        if (envelopeOpened) return;
        envelopeOpened = true;
        envelope.classList.add('opened');
      }

      // Make the No button "run away" on hover for non-touch devices
      const isTouchDevice =
        'ontouchstart' in window || navigator.maxTouchPoints > 0;

      if (!isTouchDevice && noButton) {
        noButton.addEventListener('mouseenter', () => {
          const offsetX = (Math.random() - 0.5) * 120; // -60 to 60px
          const offsetY = (Math.random() - 0.5) * 60; // -30 to 30px
          noButton.style.transform = `translate(${offsetX}px, ${offsetY}px) scale(0.9)`;
          noButton.style.boxShadow =
            '0 10px 18px rgba(244, 63, 94, 0.22)'; /* rose-500 */
        });

        noButton.addEventListener('mouseleave', () => {
          noButton.style.transform = 'translate(0, 0) scale(1)';
          noButton.style.boxShadow = '';
        });
      }

      if (envelopeWrapper) {
        envelopeWrapper.addEventListener('click', (event) => {
          // Avoid closing/opening when interacting with buttons directly
          const target = event.target;
          if (
            target === yesButton ||
            target === noButton ||
            target === noModalClose ||
            target.closest('#noModal')
          ) {
            return;
          }
          openEnvelope();
        });
      }

      if (yesButton) {
        yesButton.addEventListener('click', () => {
          // Ensure card is visible / envelope open before navigating
          openEnvelope();

          // Confetti celebration
          try {
            if (typeof confetti === 'function') {
              confetti({
                particleCount: 120,
                spread: 70,
                origin: { y: 0.4 },
                colors: ['#fb7185', '#f97373', '#fecaca', '#faccd7'],
              });
            }
          } catch (e) {
            // Fail silently if confetti isn't available
          }

          setTimeout(() => {
            window.location.href = 'love.html';
          }, 1000);
        });
      }

      if (noButton) {
        noButton.addEventListener('click', () => {
          openEnvelope();
          if (noClickCount < 3) {
            noModalText.textContent = noQuestions[noClickCount];
            noModal.classList.remove('hidden');
            noModal.classList.add('flex');
            noClickCount += 1;
            if (noClickCount === 3) {
              // After the 3rd confirmation, gently remove the No button
              setTimeout(() => {
                noButton.classList.add('opacity-0', 'scale-90');
                noButton.style.pointerEvents = 'none';
                setTimeout(() => {
                  if (noButton && noButton.parentElement) {
                    noButton.parentElement.removeChild(noButton);
                  }
                }, 260);
              }, 400);
            }
          }
        });
      }

      if (noModalClose) {
        noModalClose.addEventListener('click', () => {
          noModal.classList.add('hidden');
          noModal.classList.remove('flex');
        });
      }
    </script>
  </body>
</html>


